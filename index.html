
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>2ND SEC TERM 1 â€” Unit 1 Platform (v4.1)</title>
<style>
  :root{--prim:#00c2a8; --prim2:#7fffd4; --accent:#ff7ab8; --violet:#9b8cfc; --bg:#f6fbff; --card:#fff; --text:#0f2e3a; --ok:#2ecc71; --bad:#ff5a5a}
  *{box-sizing:border-box}
  body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu; background:var(--bg); color:var(--text)}
  header{background:linear-gradient(120deg,var(--prim),var(--prim2)); color:#fff; padding:16px 12px; position:sticky; top:0; z-index:20; box-shadow:0 10px 24px rgba(0,0,0,.12)}
  .row{display:flex; gap:10px; align-items:center; justify-content:space-between}
  .title{font-weight:900; font-size:18px}
  .tabs{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}
  .tab{border:none; background:#fff; color:var(--text); padding:10px 14px; border-radius:12px; font-weight:700; box-shadow:0 8px 20px rgba(0,0,0,.06); cursor:pointer}
  .tab.active{background:var(--prim); color:#fff}
  main{padding:12px}
  .panel{display:none}
  .panel.active{display:block}
  .subtabs{display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 12px}
  .sub{border:none; background:#fff; color:var(--text); padding:8px 12px; border-radius:999px; font-weight:700; box-shadow:0 6px 16px rgba(0,0,0,.06); cursor:pointer}
  .sub.active{background:var(--violet); color:#fff}
  .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:12px}
  .card{background:var(--card); border-radius:12px; padding:12px; box-shadow:0 12px 28px rgba(0,0,0,.06)}
  .word{font-size:20px; font-weight:900}
  .arabic{color:#547; font-size:14px}
  .example{margin-top:6px; font-size:14px}
  .btn{border:none; background:var(--prim); color:#fff; padding:8px 10px; border-radius:10px; font-weight:800; cursor:pointer}
  .btn.out{background:#fff; color:var(--prim); border:2px solid var(--prim)}
  .dict{background:#fff; border-radius:12px; padding:12px; margin-top:12px}
  .dict .rowi{display:flex; gap:8px; align-items:center; margin:6px 0}
  .dict input{flex:1; padding:8px 10px; border-radius:8px; border:2px solid #e8f2f5}
  .match{display:grid; grid-template-columns:1fr 1fr; gap:12px}
  .pile{background:#fff; border-radius:12px; padding:12px; min-height:220px}
  .draggable{background:#f8fbff; border:2px dashed #d7eaf0; padding:8px 10px; border-radius:10px; margin:6px 0; cursor:grab}
  .slot{background:#f8fbff; border:2px dashed #d7eaf0; padding:10px; border-radius:10px; margin:6px 0; min-height:42px}
  .slot.filled{border-color:var(--ok); background:#eafff3}
  .quiz{background:#fff; border-radius:12px; padding:12px}
  .choices{display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:8px; margin-top:6px}
  .choice{background:#f9fcff; border:2px solid transparent; padding:12px; border-radius:12px; cursor:pointer; font-weight:800}
  .choice.ok{border-color:var(--ok); background:#ecfff3}
  .choice.bad{border-color:var(--bad); background:#ffefef}
  .exam{background:#fff; border-radius:12px; padding:12px}
  .item{padding:10px; border:1px dashed #d9e6ea; border-radius:10px; margin:8px 0}
  .pill{padding:6px 10px; border-radius:999px; background:#eef8ff; display:inline-block; margin:6px 0}
  .tools{display:flex; gap:8px; flex-wrap:wrap}
  .review{position:fixed; inset:0; background:#0008; display:none; align-items:center; justify-content:center}
  .review .inner{background:#fff; color:#0f2e3a; width:min(900px,92vw); max-height:80vh; overflow:auto; border-radius:16px; padding:16px; box-shadow:0 20px 40px rgba(0,0,0,.25)}
  .review h3{margin:0 0 8px}
  .review .close{float:right}
  .review .qa{padding:8px; border:1px dashed #d9e6ea; border-radius:10px; margin:6px 0}
  .okpill{display:inline-block; background:#ecfff3; color:#1d7f3b; padding:4px 10px; border-radius:999px; font-weight:700}
  .badpill{display:inline-block; background:#ffecec; color:#9a1f1f; padding:4px 10px; border-radius:999px; font-weight:700}
</style>
</head>
<body>
<header>
  <div class="row">
    <div class="title">2ND SEC TERM 1 â€” Unit 1: Egyptâ€“Africa Cooperation (v4.1)</div>
    <div class="tools">
      <button class="btn" id="shareBtn">ðŸ”— Share</button>
    </div>
  </div>
  <div class="tabs" id="tabs"></div>
</header>
<main id="content"></main>
<div class="toast" id="toast"></div>
<div class="review" id="review"><div class="inner"><button class="btn out close" id="closeReview">Close âœ–</button><h3>Review â€” Correct answers & your selections</h3><div id="reviewBody"></div></div></div>
<script>
const lessons = [{"title": "Lesson 1", "vocab": [{"w": "gateway", "ar": "Ø¨ÙˆØ§Ø¨Ø©", "ex": "Egypt is a gateway to Africa."}, {"w": "infrastructure", "ar": "Ø¨Ù†ÙŠØ© ØªØ­ØªÙŠØ©", "ex": "Infrastructure connects countries."}, {"w": "partnership", "ar": "Ø´Ø±Ø§ÙƒØ©", "ex": "The two nations built a strong partnership."}, {"w": "stability", "ar": "Ø§Ø³ØªÙ‚Ø±Ø§Ø±", "ex": "Regional stability is essential."}, {"w": "manufactured", "ar": "Ù…ØµÙ†Ù‘Ø¹", "ex": "Egypt exports manufactured goods."}, {"w": "textiles", "ar": "Ù…Ù†Ø³ÙˆØ¬Ø§Øª", "ex": "The factory produces highâ€‘quality textiles."}, {"w": "mutual", "ar": "Ù…ØªØ¨Ø§Ø¯Ù„", "ex": "They have mutual interests."}, {"w": "scholarship", "ar": "Ù…Ù†Ø­Ø© Ø¯Ø±Ø§Ø³ÙŠØ©", "ex": "She received a scholarship to study in Cairo."}, {"w": "convoy", "ar": "Ù‚Ø§ÙÙ„Ø© Ø·Ø¨ÙŠØ©", "ex": "A medical convoy visited rural areas."}, {"w": "capacity", "ar": "Ù‚Ø¯Ø±Ø© / Ø·Ø§Ù‚Ø© Ø§Ø³ØªÙŠØ¹Ø§Ø¨ÙŠØ©", "ex": "Training increases health system capacity."}], "readingSentences": ["Egypt is strengthening ties with African countries.", "New infrastructure projects are being launched.", "Trade in textiles and manufactured goods is growing.", "Scholarships support African students in Egyptian universities.", "Medical convoys are training local doctors and nurses.", "Partnerships build mutual trust and regional stability."]}, {"title": "Lesson 2", "vocab": [{"w": "integration", "ar": "Ø§Ù†Ø¯Ù…Ø§Ø¬", "ex": "Regional integration supports growth."}, {"w": "hybrid", "ar": "Ù‡Ø¬ÙŠÙ†ÙŠ", "ex": "A hybrid system mixes two approaches."}, {"w": "expanding", "ar": "ÙŠØªÙˆØ³Ø¹", "ex": "The company is expanding its services."}, {"w": "rural", "ar": "Ø±ÙŠÙÙŠ", "ex": "Rural areas need better services."}, {"w": "stable", "ar": "Ù…Ø³ØªÙ‚Ø±", "ex": "We need a stable plan."}, {"w": "funding", "ar": "ØªÙ…ÙˆÙŠÙ„", "ex": "The project requires more funding."}, {"w": "renewable", "ar": "Ù…ØªØ¬Ø¯Ù‘Ø¯", "ex": "Renewable energy reduces emissions."}, {"w": "irrigation", "ar": "Ø±ÙŠÙ‘", "ex": "Solar irrigation saves water."}, {"w": "partnerships", "ar": "Ø´Ø±Ø§ÙƒØ§Øª", "ex": "Partnerships help share knowledge."}, {"w": "coverage", "ar": "ØªØºØ·ÙŠØ©", "ex": "Internet coverage is improving."}], "readingSentences": ["Experts discuss trade with Subâ€‘Saharan countries.", "Solarâ€‘powered irrigation supports rural farming.", "Hybrid solutions make systems more flexible.", "Funding helps expand community projects.", "Stable plans ensure longâ€‘term success.", "Integration brings teams and ideas together."]}, {"title": "Lesson 3", "vocab": [{"w": "strengthening", "ar": "ØªØ¹Ø²ÙŠØ²", "ex": "They are strengthening cooperation now."}, {"w": "launch", "ar": "Ø¥Ø·Ù„Ø§Ù‚", "ex": "We are launching a new project this week."}, {"w": "bridge", "ar": "Ø¬Ø³Ø± / ÙŠØ¨Ù†ÙŠ Ø¬Ø³ÙˆØ± Ø«Ù‚Ø©", "ex": "A bridge is being built across the Nile."}, {"w": "arrangement", "ar": "ØªØ±ØªÙŠØ¨", "ex": "We are making travel arrangements."}, {"w": "provide", "ar": "ÙŠÙˆÙÙ‘Ø±", "ex": "Doctors are providing medical help."}, {"w": "pave", "ar": "ÙŠÙ…Ù‡Ù‘Ø¯", "ex": "The road is being paved today."}, {"w": "carry out", "ar": "ÙŠÙ†ÙÙ‘Ø°", "ex": "New plans are being carried out."}, {"w": "being built", "ar": "ÙŠÙØ¨Ù†Ù‰ Ø§Ù„Ø¢Ù†", "ex": "New houses are being built quickly."}, {"w": "being cleaned", "ar": "ÙŠÙÙ†Ø¸Ù‘Ù Ø§Ù„Ø¢Ù†", "ex": "Roads are being cleaned after the rain."}, {"w": "studying", "ar": "ÙŠØ°Ø§ÙƒØ± Ø§Ù„Ø¢Ù†", "ex": "The students are studying this week."}], "readingSentences": ["New projects are being launched across Africa.", "Important bridges of trust are being built.", "Doctors are providing care in rural clinics.", "Roads are being paved after the storm.", "Students are studying for their exams now.", "Teams are carrying out plans this month."], "grammar": {"title": "Present Continuous â€” Active & Passive", "explain": "Active: subject + am/is/are + verbâ€‘ing. Passive: am/is/are + being + past participle. Use for actions happening now or fixed future arrangements.", "drills": [{"q": "They ___ not ___ the event due to rain (now).", "opts": ["are â€¢ cancelling", "are â€¢ cancelled", "are â€¢ cancel", "do â€¢ cancel"], "ok": 0}, {"q": "The clinic ___ today for maintenance.", "opts": ["is closing", "is being closed", "was closed", "closed"], "ok": 0}, {"q": "Many new projects ___ out in the countryside now.", "opts": ["are carrying", "have carried", "are being carried", "have been carried"], "ok": 2}, {"q": "Is the plan ___ at the meeting tomorrow?", "opts": ["discussing", "discussed", "being discussed", "to discuss"], "ok": 2}, {"q": "The roads ___ because of the heavy rain today.", "opts": ["are cleaning", "is being cleaned", "are being cleaned", "was cleaned"], "ok": 2}, {"q": "The bridge ___ tests right now.", "opts": ["is undergoing", "undergoes", "was undergoing", "is being undergo"], "ok": 0}, {"q": "Scholarships ___ to African students this year.", "opts": ["are offering", "are being offered", "offered", "will offer"], "ok": 1}, {"q": "The team ___ new arrangements this week.", "opts": ["makes", "is making", "made", "will make"], "ok": 1}, {"q": "They ___ with partners this week.", "opts": ["are meeting", "meet", "met", "are met"], "ok": 0}, {"q": "She ___ the schedule this evening.", "opts": ["is checking", "checks", "checked", "is checked"], "ok": 0}, {"q": "We ___ a meeting with African leaders tomorrow.", "opts": ["hold", "are holding", "held", "will hold"], "ok": 1}, {"q": "Students ___ for their exams now.", "opts": ["study", "are studying", "are studied", "were studied"], "ok": 1}, {"q": "New houses ___ quickly in this area.", "opts": ["are being built", "is built", "are building", "was built"], "ok": 0}, {"q": "They ___ a new bridge across the Nile now.", "opts": ["build", "are building", "is built", "are built"], "ok": 1}, {"q": "Doctors ___ medical help at the moment.", "opts": ["provide", "are providing", "provided", "will provide"], "ok": 1}, {"q": "The exhibition ___ at 5 p.m. (fixed plan).", "opts": ["starts", "is starting", "will starting", "is started"], "ok": 1}, {"q": "Listen! The speaker ___ about cooperation.", "opts": ["talks", "is talking", "is talked", "talked"], "ok": 1}, {"q": "We ___ to Aswan next week (fixed arrangement).", "opts": ["travel", "are travelling", "travelling", "will travel"], "ok": 1}, {"q": "We ___ any changes at the moment.", "opts": ["do not make", "are not making", "are not made", "did not make"], "ok": 1}, {"q": "Important bridges of trust ___ across Africa now.", "opts": ["are building", "are being built", "built", "will build"], "ok": 1}, {"q": "Which topics ___ today?", "opts": ["are discussing", "are being discussed", "discuss", "discussed"], "ok": 1}, {"q": "The reports ___ by the team right now.", "opts": ["are reviewing", "are being reviewed", "reviewed", "is reviewed"], "ok": 1}, {"q": "Why ___ you ___ so fast? (now)", "opts": ["are â€¢ speaking", "do â€¢ speak", "did â€¢ speak", "are â€¢ spoken"], "ok": 0}, {"q": "English ___ in many schools right now.", "opts": ["is teaching", "are teaching", "is being taught", "is taught"], "ok": 2}, {"q": "The room ___ before the workshop begins.", "opts": ["is cleaning", "is being cleaned", "cleaned", "was cleaned"], "ok": 1}, {"q": "Food ___ for the event at the moment.", "opts": ["is preparing", "is prepared", "is being prepared", "prepared"], "ok": 2}, {"q": "He ___ an email to the minister at the moment.", "opts": ["writes", "is writing", "is written", "wrote"], "ok": 1}, {"q": "A new bridge ___ across the river.", "opts": ["is being built", "are building", "was built", "build"], "ok": 0}, {"q": "Uniforms ___ for the ceremony at the moment.", "opts": ["are preparing", "are being prepared", "prepared", "are prepared"], "ok": 1}, {"q": "The invitations ___ now by the coordinator.", "opts": ["are sending", "are being sent", "sent", "were sending"], "ok": 1}]}}, {"title": "Lesson 4", "vocab": [{"w": "enhance", "ar": "ÙŠØ¹Ø²Ù‘Ø² / ÙŠØ­Ø³Ù‘Ù†", "ex": "Training enhances skills."}, {"w": "yields", "ar": "ØºÙ„Ø§Ù„ / Ø¥Ù†ØªØ§Ø¬ÙŠØ©", "ex": "Modern irrigation increases yields."}, {"w": "targeted", "ar": "Ù…Ø³ØªÙ‡Ø¯ÙØ©", "ex": "Support focuses on targeted areas."}, {"w": "milestone", "ar": "Ù…Ø­Ø·Ø© ÙØ§Ø±Ù‚Ø©", "ex": "The dam was a regional milestone."}, {"w": "capacity", "ar": "Ù‚Ø¯Ø±Ø§Øª", "ex": "Workshops build local capacity."}, {"w": "collaboration", "ar": "ØªØ¹Ø§ÙˆÙ†", "ex": "Collaboration drives progress."}, {"w": "annual", "ar": "Ø³Ù†ÙˆÙŠ", "ex": "The annual film festival celebrates art."}, {"w": "renewable", "ar": "Ø·Ø§Ù‚Ø© Ù…ØªØ¬Ø¯Ø¯Ø©", "ex": "Renewable projects create jobs."}, {"w": "empower", "ar": "ÙŠÙ…ÙƒÙ‘Ù†", "ex": "Training empowers communities."}, {"w": "prosperous", "ar": "Ù…Ø²Ø¯Ù‡Ø±", "ex": "Partnerships support a prosperous future."}], "readingSentences": ["Agricultural projects enhance yields along the Nile.", "A dam project became a national milestone.", "Medical teams build capacity through training.", "Solar factories provide renewable energy and jobs.", "The annual festival fosters cultural exchange.", "Partnerships empower communities and support prosperity."]}];
const unitExam = { items: [{"q": "The project requires more ___.", "opts": ["pave", "funding", "empower", "provide"], "ok": 1, "type": "vocab", "ar": "ØªÙ…ÙˆÙŠÙ„", "word": "funding", "ex": "The project requires more funding."}, {"q": "Support focuses on ___ areas.", "opts": ["collaboration", "scholarship", "targeted", "infrastructure"], "ok": 2, "type": "vocab", "ar": "Ù…Ø³ØªÙ‡Ø¯ÙØ©", "word": "targeted", "ex": "Support focuses on targeted areas."}, {"q": "Collaboration drives progress.", "opts": ["coverage", "collaboration", "hybrid", "bridge"], "ok": 1, "type": "vocab", "ar": "ØªØ¹Ø§ÙˆÙ†", "word": "collaboration", "ex": "Collaboration drives progress."}, {"q": "Regional ___ supports growth.", "opts": ["infrastructure", "studying", "integration", "hybrid"], "ok": 2, "type": "vocab", "ar": "Ø§Ù†Ø¯Ù…Ø§Ø¬", "word": "integration", "ex": "Regional integration supports growth."}, {"q": "Partnerships support a ___ future.", "opts": ["renewable", "mutual", "prosperous", "hybrid"], "ok": 2, "type": "vocab", "ar": "Ù…Ø²Ø¯Ù‡Ø±", "word": "prosperous", "ex": "Partnerships support a prosperous future."}, {"q": "We need a ___ plan.", "opts": ["expanding", "provide", "being built", "stable"], "ok": 3, "type": "vocab", "ar": "Ù…Ø³ØªÙ‚Ø±", "word": "stable", "ex": "We need a stable plan."}, {"q": "Renewable energy reduces emissions.", "opts": ["arrangement", "prosperous", "renewable", "studying"], "ok": 2, "type": "vocab", "ar": "Ù…ØªØ¬Ø¯Ù‘Ø¯", "word": "renewable", "ex": "Renewable energy reduces emissions."}, {"q": "The road is being ___d today.", "opts": ["being cleaned", "collaboration", "gateway", "pave"], "ok": 3, "type": "vocab", "ar": "ÙŠÙ…Ù‡Ù‘Ø¯", "word": "pave", "ex": "The road is being paved today."}, {"q": "The students are ___ this week.", "opts": ["capacity", "studying", "coverage", "collaboration"], "ok": 1, "type": "vocab", "ar": "ÙŠØ°Ø§ÙƒØ± Ø§Ù„Ø¢Ù†", "word": "studying", "ex": "The students are studying this week."}, {"q": "We are making travel ___s.", "opts": ["capacity", "strengthening", "being built", "arrangement"], "ok": 3, "type": "vocab", "ar": "ØªØ±ØªÙŠØ¨", "word": "arrangement", "ex": "We are making travel arrangements."}, {"q": "A ___ is being built across the Nile.", "opts": ["bridge", "annual", "irrigation", "stable"], "ok": 0, "type": "vocab", "ar": "Ø¬Ø³Ø± / ÙŠØ¨Ù†ÙŠ Ø¬Ø³ÙˆØ± Ø«Ù‚Ø©", "word": "bridge", "ex": "A bridge is being built across the Nile."}, {"q": "Solar ___ saves water.", "opts": ["irrigation", "stability", "rural", "collaboration"], "ok": 0, "type": "vocab", "ar": "Ø±ÙŠÙ‘", "word": "irrigation", "ex": "Solar irrigation saves water."}, {"q": "The dam was a regional ___.", "opts": ["milestone", "being cleaned", "prosperous", "collaboration"], "ok": 0, "type": "vocab", "ar": "Ù…Ø­Ø·Ø© ÙØ§Ø±Ù‚Ø©", "word": "milestone", "ex": "The dam was a regional milestone."}, {"q": "They are ___ cooperation now.", "opts": ["strengthening", "yields", "renewable", "partnerships"], "ok": 0, "type": "vocab", "ar": "ØªØ¹Ø²ÙŠØ²", "word": "strengthening", "ex": "They are strengthening cooperation now."}, {"q": "The ___ film festival celebrates art.", "opts": ["hybrid", "annual", "scholarship", "coverage"], "ok": 1, "type": "vocab", "ar": "Ø³Ù†ÙˆÙŠ", "word": "annual", "ex": "The annual film festival celebrates art."}, {"q": "They ___ not ___ the event due to rain (now).", "opts": ["are â€¢ cancelling", "are â€¢ cancelled", "are â€¢ cancel", "do â€¢ cancel"], "ok": 0, "type": "grammar"}, {"q": "The clinic ___ today for maintenance.", "opts": ["is closing", "is being closed", "was closed", "closed"], "ok": 0, "type": "grammar"}, {"q": "Many new projects ___ out in the countryside now.", "opts": ["are carrying", "have carried", "are being carried", "have been carried"], "ok": 2, "type": "grammar"}, {"q": "Is the plan ___ at the meeting tomorrow?", "opts": ["discussing", "discussed", "being discussed", "to discuss"], "ok": 2, "type": "grammar"}, {"q": "The roads ___ because of the heavy rain today.", "opts": ["are cleaning", "is being cleaned", "are being cleaned", "was cleaned"], "ok": 2, "type": "grammar"}, {"q": "The bridge ___ tests right now.", "opts": ["is undergoing", "undergoes", "was undergoing", "is being undergo"], "ok": 0, "type": "grammar"}, {"q": "Scholarships ___ to African students this year.", "opts": ["are offering", "are being offered", "offered", "will offer"], "ok": 1, "type": "grammar"}, {"q": "The team ___ new arrangements this week.", "opts": ["makes", "is making", "made", "will make"], "ok": 1, "type": "grammar"}, {"q": "They ___ with partners this week.", "opts": ["are meeting", "meet", "met", "are met"], "ok": 0, "type": "grammar"}, {"q": "She ___ the schedule this evening.", "opts": ["is checking", "checks", "checked", "is checked"], "ok": 0, "type": "grammar"}, {"q": "We ___ a meeting with African leaders tomorrow.", "opts": ["hold", "are holding", "held", "will hold"], "ok": 1, "type": "grammar"}, {"q": "Students ___ for their exams now.", "opts": ["study", "are studying", "are studied", "were studied"], "ok": 1, "type": "grammar"}, {"q": "New houses ___ quickly in this area.", "opts": ["are being built", "is built", "are building", "was built"], "ok": 0, "type": "grammar"}, {"q": "They ___ a new bridge across the Nile now.", "opts": ["build", "are building", "is built", "are built"], "ok": 1, "type": "grammar"}, {"q": "Doctors ___ medical help at the moment.", "opts": ["provide", "are providing", "provided", "will provide"], "ok": 1, "type": "grammar"}] };

const tabs = document.getElementById('tabs');
const content = document.getElementById('content');
const toast = document.getElementById('toast');
const reviewBox = document.getElementById('review');
const reviewBody = document.getElementById('reviewBody');
function showToast(t){toast.textContent=t; toast.style.display='block'; setTimeout(()=>toast.style.display='none',1500)}
function speak(t){const u=new SpeechSynthesisUtterance(t); const vs=speechSynthesis.getVoices(); u.lang='en-GB'; u.rate=.9; const v=vs.find(v=>/en-GB/.test(v.lang))||vs[0]; if(v) u.voice=v; speechSynthesis.cancel(); speechSynthesis.speak(u)}
function soundChime(){const ctx=new (window.AudioContext||window.webkitAudioContext)(); const o=ctx.createOscillator(); const g=ctx.createGain(); o.type='sine'; o.frequency.value=880; o.connect(g); g.connect(ctx.destination); g.gain.value=.0001; g.gain.exponentialRampToValueAtTime(.3,ctx.currentTime+.02); g.gain.exponentialRampToValueAtTime(.0001,ctx.currentTime+.35); o.start(); o.stop(ctx.currentTime+.37)}
function soundBuzz(){const ctx=new (window.AudioContext||window.webkitAudioContext)(); const o=ctx.createOscillator(); const g=ctx.createGain(); o.type='sawtooth'; o.frequency.value=220; o.connect(g); g.connect(ctx.destination); g.gain.value=.0001; g.gain.exponentialRampToValueAtTime(.25,ctx.currentTime+.02); g.gain.exponentialRampToValueAtTime(.0001,ctx.currentTime+.45); o.start(); o.stop(ctx.currentTime+.47)}
function cheer(ok){(ok? soundChime(): soundBuzz());}

const panels=[];
['Lesson 1','Lesson 2','Lesson 3','Lesson 4','Unit Exam'].forEach((name,i)=>{const b=document.createElement('button'); b.className='tab'; b.textContent=name; b.onclick=()=>activate(i); tabs.appendChild(b); const p=document.createElement('section'); p.className='panel'; content.appendChild(p); panels.push(p)});
function activate(i){[...tabs.children].forEach((b,idx)=>b.classList.toggle('active',idx===i)); panels.forEach((p,idx)=>p.classList.toggle('active',idx===i));}

function buildDictation(words){const wrap=document.createElement('div'); wrap.className='dict'; const title=document.createElement('h3'); title.textContent='Dictation â€” Type the English word (Arabic meaning)'; wrap.appendChild(title); words.forEach(w=>{const row=document.createElement('div'); row.className='rowi'; row.innerHTML=`<span class='pill'>${w.ar}</span><input type='text' placeholder='type the word'><button class='btn'>Check</button>`; const btn=row.querySelector('button'); const inp=row.querySelector('input'); btn.onclick=()=>{const ok=inp.value.trim().toLowerCase()===w.w.toLowerCase(); cheer(ok); showToast(ok? 'Great!':'Correct: '+w.w); if(!ok) speak(w.w)}; wrap.appendChild(row)}); return wrap }
function card(word){const div=document.createElement('div'); div.className='card'; div.innerHTML = `<div class='word'>${word.w}</div><div class='arabic'>${word.ar}</div><div class='example'>${word.ex}</div>`; const tools=document.createElement('div'); tools.style.marginTop='8px'; const b1=document.createElement('button'); b1.className='btn'; b1.textContent='ðŸ”Š Word'; b1.onclick=()=>speak(word.w); const b2=document.createElement('button'); b2.className='btn out'; b2.textContent='ðŸ”Š Example'; b2.onclick=()=>speak(word.ex); tools.append(b1,b2); div.appendChild(tools); return div }
function buildMatching(words){const wrap=document.createElement('div'); wrap.className='match'; const left=document.createElement('div'); left.className='pile'; const right=document.createElement('div'); right.className='pile'; wrap.append(left,right); const meanings=[...words].sort(()=>Math.random()-0.5); meanings.forEach(w=>{const s=document.createElement('div'); s.className='slot'; s.dataset.target=w.w.toLowerCase(); s.textContent=w.ar; right.appendChild(s)}); const drags=[...words].sort(()=>Math.random()-0.5); drags.forEach(w=>{const d=document.createElement('div'); d.className='draggable'; d.draggable=true; d.textContent=w.w; d.dataset.word=w.w.toLowerCase(); d.addEventListener('dragstart',e=>{e.dataTransfer.setData('text', d.dataset.word)}); left.appendChild(d)}); right.querySelectorAll('.slot').forEach(slot=>{slot.addEventListener('dragover',e=>e.preventDefault()); slot.addEventListener('drop',e=>{const ww=e.dataTransfer.getData('text'); const ok= ww===slot.dataset.target; if(ok){slot.classList.add('filled'); slot.textContent=slot.textContent+'  âœ… '+ww; cheer(true); speak(ww); showToast('Matched!')} else {cheer(false); showToast('Not a match')}})}); return wrap }
function buildContextExam(words){ const exam={items: words.map(w=>({q: (w.ex or 'Choose the correct word').replace(w.w,'___'), opts:[w.w, ...words.filter(x=>x.w!=w.w).slice(0,3).map(x=>x.w)], ok:0, type:'vocab', ar:w.ar, word:w.w}))}; return unitExamView(exam) }
function buildReading(sentences){const wrap=document.createElement('div'); const h=document.createElement('h3'); h.textContent='Reading â€” 6 short sentences'; wrap.appendChild(h); sentences.forEach(s=>{const row=document.createElement('div'); row.className='sent'; const b=document.createElement('button'); b.className='btn'; b.textContent='ðŸ”Š'; b.onclick=()=>speak(s); const span=document.createElement('span'); span.textContent=s; row.append(b,span); wrap.appendChild(row)}); return wrap }
function buildGrammar(g){const wrap=document.createElement('div'); wrap.className='card'; const h=document.createElement('h3'); h.textContent=g.title; const p=document.createElement('p'); p.textContent=g.explain; wrap.append(h,p); g.drills.forEach(item=>{const el=document.createElement('div'); el.className='item'; const q=document.createElement('div'); q.style.fontWeight='800'; q.textContent=item.q; el.appendChild(q); const opts=document.createElement('div'); el.appendChild(opts); const shuffled=item.opts.map((t,i)=>({t,i})).sort(()=>Math.random()-0.5); shuffled.forEach(({t,i})=>{const b=document.createElement('div'); b.className='choice'; b.textContent=t; b.onclick=()=>{if(el.dataset.locked) return; const ok=i===item.ok; b.classList.add(ok?'ok':'bad'); cheer(ok); if(!ok) showToast('Correct: '+item.opts[item.ok]); el.dataset.locked='1'}; opts.appendChild(b)}); wrap.appendChild(el)}); return wrap }
function explain(itm){ if(itm.type=='vocab'){ return 'This option best completes the sentence.' } const t=itm.opts[itm.ok]; if(/being/.test(t)) return 'Passive: am/is/are + being + past participle.'; if(/(are|am|is)\s+\w+ing/.test(t)) return 'Active: subject + am/is/are + verbâ€‘ing (now/arrangement).'; return 'Pick the correct Present Continuous (active/passive).'}
function unitExamView(exam){ const wrap=document.createElement('div'); wrap.className='exam'; const h=document.createElement('h3'); h.textContent='Exam â€” MCQ'; wrap.appendChild(h); let score=0; const scoreBox=document.createElement('div'); scoreBox.className='pill'; scoreBox.textContent='Score: 0/'+exam.items.length; wrap.appendChild(scoreBox); const items=[]; exam.items.forEach((itm,idx)=>{const item=document.createElement('div'); item.className='item'; const qq=document.createElement('div'); qq.style.fontWeight='800'; qq.textContent=(idx+1)+'. '+itm.q; item.appendChild(qq); const opts=document.createElement('div'); item.appendChild(opts); const shuffled=itm.opts.map((t,i)=>({t,i})).sort(()=>Math.random()-0.5); shuffled.forEach(({t,i})=>{const c=document.createElement('div'); c.className='choice'; c.textContent=t; c.onclick=()=>{if(item.dataset.locked) return; const ok=i===itm.ok; c.classList.add(ok?'ok':'bad'); cheer(ok); item.dataset.locked='1'; item.dataset.your=c.textContent; item.dataset.explain=explain(itm); if(ok){score++; scoreBox.textContent='Score: '+score+'/'+exam.items.length} else {showToast('Correct: '+itm.opts[itm.ok]); speak(itm.opts[itm.ok])}}; opts.appendChild(c)}); items.push({node:item, data:itm}); wrap.appendChild(item)}); const tools=document.createElement('div'); tools.className='tools'; const reset=document.createElement('button'); reset.className='btn'; reset.textContent='Reset'; reset.onclick=()=>{wrap.parentElement.replaceChild(unitExamView(exam), wrap)}; const autocorrect=document.createElement('button'); autocorrect.className='btn out'; autocorrect.textContent='Auto-correct'; autocorrect.onclick=()=>{items.forEach(({node,data})=>{if(node.dataset.locked) return; const options=[...node.querySelectorAll('.choice')]; options.forEach(o=>o.classList.add('bad')); const correctText=data.opts[data.ok]; const corr=options.find(o=>o.textContent.trim().toLowerCase()===correctText.toLowerCase()); if(corr){corr.classList.remove('bad'); corr.classList.add('ok');} node.dataset.locked='1'; node.dataset.your='(no answer)'; node.dataset.explain=explain(data)}); soundChime(); showToast('Auto-correct applied')}; const reviewBtn=document.createElement('button'); reviewBtn.className='btn out'; reviewBtn.textContent='Review'; reviewBtn.onclick=()=>{reviewBody.innerHTML=''; items.forEach(({node,data},i)=>{const your=node.dataset.your||'(no answer)'; const correct=data.opts[data.ok]; const qa=document.createElement('div'); qa.className='qa'; const cls = your.toLowerCase()==correct.toLowerCase()? 'okpill':'badpill'; qa.innerHTML = `<div style='font-weight:800'>${i+1}. ${data.q}</div><div>Your: <span class='${cls}'>${your}</span> â€¢ Correct: <span class='okpill'>${correct}</span></div><div style='margin-top:4px; opacity:.8'>Hint: ${node.dataset.explain || explain(data)}</div>`; reviewBody.appendChild(qa)}); reviewBox.style.display='flex'}; tools.append(reset, autocorrect, reviewBtn); wrap.appendChild(tools); return wrap }
function lessonPanel(lesson){const panel=document.createElement('section'); const subt=document.createElement('div'); subt.className='subtabs'; panel.appendChild(subt); const names=['Vocabulary','Games','Reading','Exam']; if(lesson.grammar) names.splice(2,0,'Grammar'); const views=names.map(()=>{const v=document.createElement('div'); panel.appendChild(v); return v}); function act(i){[...subt.children].forEach((b,idx)=>b.classList.toggle('active',idx===i)); views.forEach((v,idx)=>v.style.display= idx===i?'block':'none')} names.forEach((n,i)=>{const b=document.createElement('button'); b.className='sub'; b.textContent=n; b.onclick=()=>act(i); subt.appendChild(b)}); const grid=document.createElement('div'); grid.className='grid'; lesson.vocab.forEach(w=>grid.appendChild(card(w))); views[names.indexOf('Vocabulary')].appendChild(grid); views[names.indexOf('Vocabulary')].appendChild(buildDictation(lesson.vocab)); const games=document.createElement('div'); games.appendChild(buildMatching(lesson.vocab)); views[names.indexOf('Games')].appendChild(games); if(lesson.grammar){views[names.indexOf('Grammar')].appendChild(buildGrammar(lesson.grammar));} views[names.indexOf('Reading')].appendChild(buildReading(lesson.readingSentences)); views[names.indexOf('Exam')].appendChild(buildContextExam(lesson.vocab)); act(0); return panel }
lessons.forEach((lsn,idx)=>{const p=document.createElement('section'); p.className='panel'; content.appendChild(p); p.appendChild(lessonPanel(lsn))}); const unitPanel=document.createElement('section'); unitPanel.className='panel'; unitPanel.appendChild(unitExamView({items: [{"q": "The project requires more ___.", "opts": ["pave", "funding", "empower", "provide"], "ok": 1, "type": "vocab", "ar": "ØªÙ…ÙˆÙŠÙ„", "word": "funding", "ex": "The project requires more funding."}, {"q": "Support focuses on ___ areas.", "opts": ["collaboration", "scholarship", "targeted", "infrastructure"], "ok": 2, "type": "vocab", "ar": "Ù…Ø³ØªÙ‡Ø¯ÙØ©", "word": "targeted", "ex": "Support focuses on targeted areas."}, {"q": "Collaboration drives progress.", "opts": ["coverage", "collaboration", "hybrid", "bridge"], "ok": 1, "type": "vocab", "ar": "ØªØ¹Ø§ÙˆÙ†", "word": "collaboration", "ex": "Collaboration drives progress."}, {"q": "Regional ___ supports growth.", "opts": ["infrastructure", "studying", "integration", "hybrid"], "ok": 2, "type": "vocab", "ar": "Ø§Ù†Ø¯Ù…Ø§Ø¬", "word": "integration", "ex": "Regional integration supports growth."}, {"q": "Partnerships support a ___ future.", "opts": ["renewable", "mutual", "prosperous", "hybrid"], "ok": 2, "type": "vocab", "ar": "Ù…Ø²Ø¯Ù‡Ø±", "word": "prosperous", "ex": "Partnerships support a prosperous future."}, {"q": "We need a ___ plan.", "opts": ["expanding", "provide", "being built", "stable"], "ok": 3, "type": "vocab", "ar": "Ù…Ø³ØªÙ‚Ø±", "word": "stable", "ex": "We need a stable plan."}, {"q": "Renewable energy reduces emissions.", "opts": ["arrangement", "prosperous", "renewable", "studying"], "ok": 2, "type": "vocab", "ar": "Ù…ØªØ¬Ø¯Ù‘Ø¯", "word": "renewable", "ex": "Renewable energy reduces emissions."}, {"q": "The road is being ___d today.", "opts": ["being cleaned", "collaboration", "gateway", "pave"], "ok": 3, "type": "vocab", "ar": "ÙŠÙ…Ù‡Ù‘Ø¯", "word": "pave", "ex": "The road is being paved today."}, {"q": "The students are ___ this week.", "opts": ["capacity", "studying", "coverage", "collaboration"], "ok": 1, "type": "vocab", "ar": "ÙŠØ°Ø§ÙƒØ± Ø§Ù„Ø¢Ù†", "word": "studying", "ex": "The students are studying this week."}, {"q": "We are making travel ___s.", "opts": ["capacity", "strengthening", "being built", "arrangement"], "ok": 3, "type": "vocab", "ar": "ØªØ±ØªÙŠØ¨", "word": "arrangement", "ex": "We are making travel arrangements."}, {"q": "A ___ is being built across the Nile.", "opts": ["bridge", "annual", "irrigation", "stable"], "ok": 0, "type": "vocab", "ar": "Ø¬Ø³Ø± / ÙŠØ¨Ù†ÙŠ Ø¬Ø³ÙˆØ± Ø«Ù‚Ø©", "word": "bridge", "ex": "A bridge is being built across the Nile."}, {"q": "Solar ___ saves water.", "opts": ["irrigation", "stability", "rural", "collaboration"], "ok": 0, "type": "vocab", "ar": "Ø±ÙŠÙ‘", "word": "irrigation", "ex": "Solar irrigation saves water."}, {"q": "The dam was a regional ___.", "opts": ["milestone", "being cleaned", "prosperous", "collaboration"], "ok": 0, "type": "vocab", "ar": "Ù…Ø­Ø·Ø© ÙØ§Ø±Ù‚Ø©", "word": "milestone", "ex": "The dam was a regional milestone."}, {"q": "They are ___ cooperation now.", "opts": ["strengthening", "yields", "renewable", "partnerships"], "ok": 0, "type": "vocab", "ar": "ØªØ¹Ø²ÙŠØ²", "word": "strengthening", "ex": "They are strengthening cooperation now."}, {"q": "The ___ film festival celebrates art.", "opts": ["hybrid", "annual", "scholarship", "coverage"], "ok": 1, "type": "vocab", "ar": "Ø³Ù†ÙˆÙŠ", "word": "annual", "ex": "The annual film festival celebrates art."}, {"q": "They ___ not ___ the event due to rain (now).", "opts": ["are â€¢ cancelling", "are â€¢ cancelled", "are â€¢ cancel", "do â€¢ cancel"], "ok": 0, "type": "grammar"}, {"q": "The clinic ___ today for maintenance.", "opts": ["is closing", "is being closed", "was closed", "closed"], "ok": 0, "type": "grammar"}, {"q": "Many new projects ___ out in the countryside now.", "opts": ["are carrying", "have carried", "are being carried", "have been carried"], "ok": 2, "type": "grammar"}, {"q": "Is the plan ___ at the meeting tomorrow?", "opts": ["discussing", "discussed", "being discussed", "to discuss"], "ok": 2, "type": "grammar"}, {"q": "The roads ___ because of the heavy rain today.", "opts": ["are cleaning", "is being cleaned", "are being cleaned", "was cleaned"], "ok": 2, "type": "grammar"}, {"q": "The bridge ___ tests right now.", "opts": ["is undergoing", "undergoes", "was undergoing", "is being undergo"], "ok": 0, "type": "grammar"}, {"q": "Scholarships ___ to African students this year.", "opts": ["are offering", "are being offered", "offered", "will offer"], "ok": 1, "type": "grammar"}, {"q": "The team ___ new arrangements this week.", "opts": ["makes", "is making", "made", "will make"], "ok": 1, "type": "grammar"}, {"q": "They ___ with partners this week.", "opts": ["are meeting", "meet", "met", "are met"], "ok": 0, "type": "grammar"}, {"q": "She ___ the schedule this evening.", "opts": ["is checking", "checks", "checked", "is checked"], "ok": 0, "type": "grammar"}, {"q": "We ___ a meeting with African leaders tomorrow.", "opts": ["hold", "are holding", "held", "will hold"], "ok": 1, "type": "grammar"}, {"q": "Students ___ for their exams now.", "opts": ["study", "are studying", "are studied", "were studied"], "ok": 1, "type": "grammar"}, {"q": "New houses ___ quickly in this area.", "opts": ["are being built", "is built", "are building", "was built"], "ok": 0, "type": "grammar"}, {"q": "They ___ a new bridge across the Nile now.", "opts": ["build", "are building", "is built", "are built"], "ok": 1, "type": "grammar"}, {"q": "Doctors ___ medical help at the moment.", "opts": ["provide", "are providing", "provided", "will provide"], "ok": 1, "type": "grammar"}] })); content.appendChild(unitPanel);
const names=['Lesson 1','Lesson 2','Lesson 3','Lesson 4','Unit Exam']; const panels=[...content.children]; names.forEach((t,i)=>{const b=document.createElement('button'); b.className='tab'; b.textContent=t; b.onclick=()=>{[...document.querySelectorAll('.tab')].forEach((bb,idx)=>bb.classList.toggle('active',idx===i)); panels.forEach((pp,idx)=>pp.classList.toggle('active',idx===i))}; tabs.appendChild(b)}); panels.forEach((pp,idx)=>pp.classList.toggle('active',idx===0)); tabs.querySelector('.tab').classList.add('active');
document.getElementById('shareBtn').addEventListener('click', async ()=>{ const url = window.location.href; if(navigator.share){ try{ await navigator.share({title:'2ND SEC TERM 1 â€” Unit 1', text:'Check our interactive mini platform!', url}); showToast('Shared!'); }catch(e){ showToast('Share cancelled'); } } else { try{ await navigator.clipboard.writeText(url); showToast('Link copied to clipboard'); }catch(e){ showToast('Copy the URL manually'); } } });
document.getElementById('closeReview').addEventListener('click',()=>{reviewBox.style.display='none'});
</script>
</body>
</html>
